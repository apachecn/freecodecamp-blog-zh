# SSH Keygen æ•™ç¨‹â€”â€”å¦‚ä½•ä¸º RSA ç™»å½•ç”Ÿæˆ SSH å…¬é’¥

> åŸæ–‡ï¼š<https://www.freecodecamp.org/news/ssh-keygen-how-to-generate-an-ssh-public-key-for-rsa-login/>

å¯†ç æœ¯ä½¿ç”¨åŠ å¯†å’Œè§£å¯†æ¥éšè—æ¶ˆæ¯ã€‚è¿™åœ¨ä¿¡æ¯å®‰å…¨ä¸­å¼•å…¥äº†ä¿å¯†æ€§ã€‚

åŠ å¯†çš„ç›®çš„æ˜¯ç¡®ä¿é€šè¿‡ä¸å®‰å…¨é€šé“è¿æ¥çš„ä¸¤ä¸ªäººæˆ–è®¾å¤‡ä¹‹é—´çš„å®‰å…¨é€šä¿¡ã€‚

å‘é€æ–¹é€šå¸¸ä½¿ç”¨åŠ å¯†å¯†é’¥æ¥é”å®šæ¶ˆæ¯ï¼Œè€Œæ¥æ”¶æ–¹ä½¿ç”¨è§£å¯†å¯†é’¥æ¥è§£é”æ¶ˆæ¯ã€‚

é€šå¸¸ï¼ŒåŠ å¯†é‡‡ç”¨ä¸¤ç§ç­–ç•¥:

1.  **å¯¹ç§°å¯†é’¥åŠ å¯†(ç§é’¥):**ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½çŸ¥é“åŠ å¯†å’Œè§£å¯†å¯†é’¥ã€‚ä½¿ç”¨è¿™ç§æŠ€æœ¯çš„ç®—æ³•çš„ä¸€äº›ä¾‹å­åŒ…æ‹¬ä¸€æ¬¡æ€§å¯†ç æœ¬ã€Vernam å¯†ç ã€Playfairã€è¡Œåˆ—å¯†ç å’Œæ•°æ®åŠ å¯†æ ‡å‡†(DES)ã€‚
2.  **éå¯¹ç§°å¯†é’¥å¯†ç æœ¯(å…¬é’¥):**é€šè¿‡è¿™ç§æŠ€æœ¯ï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸¤ä¸ªå¯†é’¥:ç§é’¥(ç§˜å¯†çš„ï¼Œåˆ›å»ºè€…å¯ä»¥è®¿é—®)å’Œå…¬é’¥(ä»»ä½•äººéƒ½å¯ä»¥å…è´¹ä½¿ç”¨)ã€‚å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä½¿ç”¨ä¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚ä½¿ç”¨è¿™ç§æŠ€æœ¯çš„ç®—æ³•åŒ…æ‹¬ Rivestâ€“sha mirâ€“ad leman ç®—æ³•(RSA)ã€Diffie - Hellman å¯†é’¥äº¤æ¢(DHE)å’Œæ•°å­—ç­¾åç®—æ³•(DSA)ã€‚

![Cryptography--2-](img/f0e95cd72156a9cfe8c57f0eddef2a19.png)

The Encryption Model for Secured Data Transmission

è½¯ä»¶å·¥ç¨‹å¸ˆé€šå¸¸éœ€è¦é€šè¿‡æœåŠ¡å™¨æˆ–å…¶ä»–æœåŠ¡(å¦‚ GitHub)è¿›è¡Œç‰ˆæœ¬æ§åˆ¶è®¤è¯ã€‚

ä¸ä½¿ç”¨å¯†ç èº«ä»½éªŒè¯ç›¸åï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨å…¬é’¥èº«ä»½éªŒè¯æ¥ç”Ÿæˆä¸€å¯¹åŠ å¯†å¯†é’¥å¹¶å°†å…¶å­˜å‚¨åœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šã€‚ç„¶åï¼Œä»–ä»¬å¯ä»¥é…ç½®è¿è¡Œåœ¨å¦ä¸€å°è®¡ç®—æœºä¸Šçš„æœåŠ¡å™¨æ¥è¯†åˆ«å’Œæ¥å—è¿™äº›å¯†é’¥ã€‚

è¿™å°±æ˜¯æˆ‘ä»¬å‰é¢è®¨è®ºçš„éå¯¹ç§°å¯†é’¥åŠ å¯†æŠ€æœ¯æµç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ›´å®‰å…¨çš„èº«ä»½éªŒè¯è¿‡ç¨‹ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å°†äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼ŒSSH æ„å‘³ç€ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ SSH keygen é€šè¿‡ RSA ç®—æ³•ç”Ÿæˆ SSH å¯†é’¥ã€‚

## å…ˆå†³æ¡ä»¶

*   è¿è¡Œåœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šçš„å·¥ä½œè®¡ç®—æœºã€‚
*   å…³äºå‘½ä»¤è¡Œå¯¼èˆªçš„åŸºæœ¬çŸ¥è¯†ã€‚
*   ä½ è„¸ä¸Šçš„ç¬‘å®¹:)

## SSH ç®€ä»‹( **S** å®‰å…¨ **Sh** ell åè®®)

ä½¿ç”¨ SSH çš„å…¬é’¥è®¤è¯æ˜¯æ¯”å¯†ç æ›´å®‰å…¨çš„ç™»å½•æœåŠ¡çš„æ–¹æ³•ã€‚ä¸€æ—¦ä»ä¸Šé¢çš„ä»‹ç»ä¸­ç†è§£äº†åŠ å¯†çš„å·¥ä½œåŸç†ï¼Œç†è§£ SSH å°±å˜å¾—å®¹æ˜“äº†ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰ç”¨çš„åŸºæœ¬å®šä¹‰:

> â€œS**S**å®‰å…¨ **Sh** ell åè®®æ˜¯ä¸€ä¸ª**åŠ å¯†ç½‘ç»œåè®®**ï¼Œç”¨äºåœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸Šå®‰å…¨åœ°è¿è¡Œç½‘ç»œæœåŠ¡**([æ¥æº](https://en.wikipedia.org/wiki/Secure_Shell))**

SSH ç”¨äºè¿è¡Œåœ¨ SSH åè®®ä¸Šçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä»¥è¿œç¨‹ç™»å½•åˆ°æœåŠ¡å™¨å¹¶é€šè¿‡å‘½ä»¤è¡Œè®¿é—®æŸäº›èµ„æºã€‚

![image-197](img/0c96161af670e342190f54c373e8d9a1.png)

Source: SSH Academy

SSH åè®®æœ‰ä¸€ä¸ªå¼€æºç‰ˆæœ¬(ç‰ˆæœ¬ 2)ï¼Œå®ƒæœ‰ä¸€å¥—å·¥å…·ï¼Œå«åš [OpenSSH](https://www.openssh.com) (ä¹Ÿç§°ä¸º OpenBSD Secure Shell)ã€‚è¯¥é¡¹ç›®åŒ…æ‹¬ä»¥ä¸‹å·¥å…·:

*   è¿œç¨‹æ“ä½œ: [ssh](https://man.openbsd.org/ssh.1) ã€ [scp](https://man.openbsd.org/scp.1) ã€ [sftp](https://man.openbsd.org/sftp.1) ã€‚
*   å¯†é’¥ç”Ÿæˆ: [ssh-add](https://man.openbsd.org/ssh-add.1) ï¼Œ [ssh-keysign](https://man.openbsd.org/ssh-keysign.8) ï¼Œ [ssh-keyscan](https://man.openbsd.org/ssh-keyscan.1) ï¼Œä»¥åŠ [**ssh-keygen**](https://man.openbsd.org/ssh-keygen.1) ã€‚
*   æœåŠ¡ç«¯: [sshd](https://man.openbsd.org/sshd.8) ã€ [sftp-server](https://man.openbsd.org/sftp-server.8) ã€ [ssh-agent](https://man.openbsd.org/ssh-agent.1) ã€‚

## å¦‚ä½•ä¸º RSA ç™»å½•ç”Ÿæˆ SSH å…¬é’¥

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨ ssh-keygen é€šè¿‡ RSA ç®—æ³•ç”Ÿæˆä¸€ä¸ª ssh å…¬é’¥ã€‚è¿™å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸€ä¸ªç§é’¥(ä¿å­˜åˆ°æ‚¨çš„æœ¬åœ°è®¡ç®—æœº)å’Œä¸€ä¸ªå…¬é’¥(ä¸Šä¼ åˆ°æ‚¨é€‰æ‹©çš„æœåŠ¡)çš„å¯†é’¥å¯¹ã€‚

ç°åœ¨ç»§ç»­ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤å®ç°è¿™ä¸€ç‚¹:

1.  å¦‚æœæ‚¨è¿˜æ²¡æœ‰å®‰è£… OpenSSHï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…å®ƒ:

```
// for mac

brew install openssh

// for linux

sudo apt install openssh-client && sudo apt install openssh-server
```

2.ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œä½¿ç”¨ RSA ç®—æ³•(é»˜è®¤ä¸º 2046 ä½åŠ å¯†)åˆ›å»ºä¸€ä¸ªç§é’¥/å…¬é’¥å¯¹:

```
ssh-keygen -t rsa
```

3.æˆ–è€…ï¼Œå¦‚æœæ‚¨æƒ³è¦ä½¿ç”¨ 4096 ä½åŠ å¯†çš„ RSA ç®—æ³•åˆ›å»ºï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

```
ssh-keygen -t rsa -b 4096
```

4.è¾“å…¥ä¿å­˜å¯†é’¥çš„æ–‡ä»¶ä½ç½®(é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†ä¿å­˜åˆ°æ‚¨çš„ç”¨æˆ·ç›®å½•ä¸­(ä¾‹å¦‚ï¼Œ`(/Users/bolajiayodeji/.ssh/id_rsa)`)ã€‚

5.è¾“å…¥ä¸€ä¸ªå¯†ç ä»¥å¢å¼ºæ‚¨ç§é’¥çš„å®‰å…¨æ€§ã€‚é€šå¸¸ï¼Œä¸€ä¸ªå¥½çš„å¯†ç åº”è¯¥è‡³å°‘æœ‰ 15 ä¸ªå­—ç¬¦(åŒ…æ‹¬è‡³å°‘ä¸€ä¸ªå¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦)ï¼Œå¹¶ä¸”å¿…é¡»éš¾ä»¥çŒœæµ‹ã€‚ä½ å¯ä»¥åœ¨çº¿ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªå¯†ç ç”Ÿæˆå™¨ï¼Œæˆ–è€…ä½¿ç”¨ hexdump è½»æ¾ç”Ÿæˆä¸€ä¸ªé‡Šä¹‰ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
hexdump -vn16 -e'4/4 "%08X" 1 "\n"' /dev/urandom
```

6.ä¸€æ—¦æ‚¨æˆåŠŸåˆ›å»ºäº†å¯†ç ï¼Œæ‚¨çš„ç§é’¥å°†ä¿å­˜åœ¨`/<your_chosen_directory>/.ssh/id_rsa`ä¸­ï¼Œæ‚¨çš„å…¬é’¥å°†ä¿å­˜åœ¨`/<your_chosen_directory>/.ssh/id_rsa.pub`ä¸­ã€‚

![Screenshot-2022-08-30-at-1.18.15-PM](img/f3fcb08289cba2737a2452638e890110.png)

ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ ssh-copy-id(è¯¥å·¥å…·æ˜¯ openSSH çš„ä¸€éƒ¨åˆ†)å°†åˆ›å»ºçš„å¯†é’¥å¤åˆ¶åˆ°æƒ³è¦è¿æ¥çš„æœåŠ¡å™¨çš„ authorized_keys æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
ssh-copy-id username@remote_host
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥å°†æ‚¨çš„ SSH ç§æœ‰å¯†é’¥æ·»åŠ åˆ° ssh-agent ä¸­ï¼Œå¹¶å°†æ‚¨çš„å¯†ç å­˜å‚¨åœ¨é’¥åŒ™ä¸²ä¸­ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥é€šè¿‡ dashboard UI ç­‰(ä¾‹å¦‚ï¼Œä½¿ç”¨ Git æˆ– GitHub ç­‰å·¥å…·)å°† SHH å¯†é’¥æ·»åŠ åˆ°æ‚¨çš„æœåŠ¡å™¨å¸æˆ·ä¸­ã€‚

## ç»“è®º

è™½ç„¶å¼ºå¯†ç æœ‰åŠ©äºé˜²æ­¢æš´åŠ›æ”»å‡»ï¼Œä½†å…¬é’¥èº«ä»½éªŒè¯ä½¿ç”¨åŠ å¯†æŠ€æœ¯æä¾›äº†æ›´åŠ å®‰å…¨çš„èº«ä»½éªŒè¯è¿‡ç¨‹ã€‚

æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ [ssh-keygen æ‰‹å†Œé¡µ](https://man.openbsd.org/ssh-keygen.1)å’Œä»¥ä¸‹èµ„æºä»¥è¿›ä¸€æ­¥å­¦ä¹ :

*   [ç”¨ SSH è¿æ¥åˆ° GitHub](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)
*   [å¼€å§‹ä½¿ç”¨ OpenSSH for Windows](https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse)

å¹²æ¯ï¼ğŸ’™